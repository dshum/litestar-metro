{% extends "admin/layouts/default.html" %}

{% block content %}
  <h2 class="text-3xl mb-6">{{ station.name }}</h2>

  <div role="tablist" class="tabs tabs-box mb-6">
    <a href="{{ url_for('admin.station.view', station_id=station.id) }}" role="tab" class="tab tab-active">View</a>
    <a href="{{ url_for('admin.station.edit', station_id=station.id) }}" role="tab" class="tab">Edit</a>
    <a href="{{ url_for('admin.station.transfers.edit', station_id=station.id) }}" role="tab" class="tab">Transfers</a>
    <a href="{{ url_for('admin.station.screenshots.index', station_id=station.id) }}" role="tab"
       class="tab">Screenshots</a>
  </div>

  <div class="mb-6 flex flex-col lg:flex-row items-top lg:justify-between gap-4">
    <div>
      <h3 class="text-xl">Transfers</h3>
      {% if transfers %}
        <ul>
          {% for transfer in transfers %}
            <li>{{ transfer.name }} ({{ transfer.line.name }} line)</li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No transfers here</p>
      {% endif %}
    </div>

    <div class="stats stats-vertical lg:stats-horizontal bg-base-300 shadow">
      <div class="stat">
        <div class="stat-title">Platform length</div>
        <div class="stat-value">{{ station.platform_length }}</div>
      </div>

      <div class="stat">
        <div class="stat-title">Platform area</div>
        <div class="stat-value">{{ station.platform_square }}</div>
      </div>

      <div class="stat">
        <div class="stat-title">Platform number</div>
        <div class="stat-value">{{ station.platform_number }}</div>
      </div>

      <div class="stat">
        <div class="stat-title">Entrance number</div>
        <div class="stat-value">{{ station.entrance_number }}</div>
      </div>
    </div>
  </div>

  {% if screenshots %}
    <div class="mb-6 grid grid-cols-1 lg:grid-cols-3 gap-4">
      {% for screenshot in screenshots %}
        <figure class="">
          <img src="{{ url_for('assets', file_path='screenshots/' + screenshot.image) }}"
               class="shadow" alt="">
        </figure>
      {% endfor %}
    </div>
  {% endif %}

  <div class="mb-6">
    <h3 class="mb-2 text-xl">Materials</h3>
    {% if materials %}
      <div>
        {% for material in materials %}
          {{ material.russian_name }}
          {% if not loop.last %}<span class="text-purple-400">✦</span>{% endif %}
        {% endfor %}
      </div>
    {% else %}
      <div>Materials are not specified</div>
    {% endif %}
  </div>

  {% set extra_titles = {
    "has_depot": "Station has depot",
    "is_underground": "Underground station",
    "has_elevators": "Station has elevators",
    "is_terminal": "Terminal station",
  } %}

  <div class="mb-6">
    <h3 class="mb-2 text-xl">Additional</h3>
    {% if extras %}
      {% for extra in extras %}
        {{ extra_titles[extra] }}
        {% if not loop.last %}<span class="text-purple-400">✦</span>{% endif %}
      {% endfor %}
    {% else %}
      <div>No information available</div>
    {% endif %}
  </div>
{% endblock %}